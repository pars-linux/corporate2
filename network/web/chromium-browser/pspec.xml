<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>chromium-browser</Name>
        <Homepage>http://code.google.com/chromium-browser</Homepage>
        <Packager>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Packager>
        <License>GPLv2</License>
        <Icon>chromium-browser</Icon>
        <IsA>app:gui</IsA>
        <Summary>A WebKit powered web browser</Summary>
        <Description>Chromium-browser is an open-source web browser, powered by WebKit.</Description>
        <Archive sha1sum="4a870da41ae25781e4806ec2c95703282fccc4d8" type="tarbz2">http://build.chromium.org/buildbot/official/chromium-9.0.597.94.tar.bz2</Archive>
        <BuildDependencies>
            <Dependency>alsa-lib</Dependency>
            <Dependency>libstdc++</Dependency>
            <Dependency>libevent</Dependency>
            <Dependency>libxslt</Dependency>
            <Dependency>libXi</Dependency>
            <Dependency>libXdamage</Dependency>
            <Dependency>libXfixes</Dependency>
            <Dependency>libXtst</Dependency>
            <Dependency>libvpx-devel</Dependency>
            <Dependency>libgnome-keyring</Dependency>
            <Dependency>libgnome</Dependency>
            <Dependency>libXScrnSaver</Dependency>
            <Dependency>ffmpeg</Dependency>
            <Dependency>nss</Dependency>
            <Dependency>nss-mdns</Dependency>
            <Dependency>nspr</Dependency>
            <Dependency>gtk2</Dependency>
            <Dependency>atk</Dependency>
            <Dependency>gconf</Dependency>
            <Dependency>fontconfig</Dependency>
            <Dependency>icu4c-devel</Dependency>
            <Dependency>cups</Dependency>
            <Dependency>minizip-devel</Dependency>
            <Dependency>gdk-pixbuf</Dependency>
        </BuildDependencies>
        <Patches>
            <Patch level="0">chromium-system-vpx-r1.patch</Patch>
            <Patch level="1">pisi_download_warning.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>chromium-browser</Name>
        <RuntimeDependencies>
            <Dependency>cairo</Dependency>
            <Dependency>gtk2</Dependency>
            <Dependency>libXrender</Dependency>
            <Dependency>gconf</Dependency>
            <Dependency>libevent</Dependency>
            <Dependency>libXi</Dependency>
            <Dependency>libXdamage</Dependency>
            <Dependency>libXfixes</Dependency>
            <Dependency>libXtst</Dependency>
            <Dependency>pango</Dependency>
            <Dependency>libXext</Dependency>
            <Dependency>minizip</Dependency>
            <Dependency>nspr</Dependency>
            <Dependency>alsa-lib</Dependency>
            <Dependency>fontconfig</Dependency>
            <Dependency>libXScrnSaver</Dependency>
            <Dependency>icu4c</Dependency>
            <Dependency>nss</Dependency>
            <Dependency>cups</Dependency>
            <Dependency>libxslt</Dependency>
            <Dependency>freetype</Dependency>
            <Dependency>jpeg</Dependency>
            <Dependency>libgcrypt</Dependency>
            <Dependency>libvpx</Dependency>
            <Dependency>libgnome-keyring</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="config">/etc</Path>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="library">/usr/lib</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="data">/usr/share/icons</Path>
            <Path fileType="data">/usr/share/pixmaps</Path>
            <Path fileType="data">/usr/share/applications</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0644" target="/usr/lib/chromium-browser/master_preferences" >master_preferences</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/applications/chromium-browser.desktop" >chromium-browser.desktop</AdditionalFile>
            <AdditionalFile owner="root" permission="0755" target="/usr/bin/chromium-browser">chromium-browser.sh</AdditionalFile>
        </AdditionalFiles>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
         </Provides>
    </Package>

    <History>
        <Update release="18">
            <Date>2011-02-09</Date>
            <Version>9.0.597.94</Version>
            <Comment>
                * New Stable release
                * Several security fixes:
                    * [67234] High Stale pointer in animation event handling.
                    * [68120] High Use-after-free in SVG font faces.
                    * [69556] High Stale pointer with anonymous block handling.
                    * [69970] Medium Out-of-bounds read in plug-in handling.
                    * [70456] Medium Possible failure to terminate process on out-of-memory condition.
            </Comment>
            <Type package="chromium-browser">security</Type>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="17">
            <Date>2011-02-04</Date>
            <Version>9.0.597.84</Version>
            <Comment>
                * Beta channel has been upgraded to stable channel
                * Several security fixes:
                    * [55831] High Use-after-free in image loading.
                    * [59081] Low Apply some restrictions to cross-origin drag + drop.
                    * [62791] Low Browser crash with extension with missing key.
                    * [64051] High Crashing when printing in PDF event handler.
                    * [65669] Low Handle merging of autofill profiles more gracefully.
                    * [68244] Low Browser crash with bad volume setting.
                    * [69195] Critical Race condition in audio handling.
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="16">
            <Date>2011-01-27</Date>
            <Version>9.0.597.83</Version>
            <Comment>New beta release</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="15">
            <Date>2011-01-19</Date>
            <Version>9.0.597.67</Version>
            <Comment>New beta release</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="14">
            <Date>2011-01-10</Date>
            <Version>9.0.597.45</Version>
            <Comment>
                * New beta release
                * Create symlinks for ffmpeg libraries
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="13">
            <Date>2011-01-05</Date>
            <Version>9.0.597.42</Version>
            <Comment>
                * New beta channel release
                * Give warning when downloading pisi file
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="12">
            <Date>2010-12-29</Date>
            <Version>9.0.597.19</Version>
            <Comment>All options are enabled by default, don't need this option strings anymore.</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="11">
            <Date>2010-12-20</Date>
            <Version>9.0.597.19</Version>
            <Comment>Add libgnome-keyring runtime dependency and change buildtime dependency.</Comment>
            <Name>Ozan Çağlayan</Name>
            <Email>ozan@pardus.org.tr</Email>
        </Update>
        <Update release="10">
            <Date>2010-12-17</Date>
            <Version>9.0.597.19</Version>
            <Comment>
                * Bump to newest Beta channel (major update again)
                * Use patch for using libvpx systemwide instead of the bundle one
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="9">
            <Date>2010-12-14</Date>
            <Version>8.0.552.224</Version>
            <Comment>
                * Bump to newest stable
                * [56449] High Bad validation for message deserialization on 64-bit Linux builds.
                * [60761] Medium Bad extension can cause browser crash in tab handling.
                * [63529] Low Browser crash with NULL pointer in web worker handling.
                * [63866] Medium Out-of-bounds read in CSS parsing.
                * [64959] High Stale pointers in cursor handling.
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="8">
            <Date>2010-12-06</Date>
            <Version>8.0.552.215</Version>
            <Comment>
                * Bump to 8.0.552.215
                * Stable channel has been merged to the Beta Channel
                * The built-in PDF viewer is now enabled by default.
                * Over 800 bug fixes, the importants one listed below:
                    * [17655] Possible pop-up blocker bypass.
                    * [55745] Cross-origin video theft with canvas.
                    * [56237] Browser crash with HTML5 databases.
                    * [58319] Prevent excessive file dialogs, possibly leading to browser crash.
                    * [59554] Use after free in history handling.
                    * [59817] Make sure the “dangerous file types” list is uptodate with the Windows platforms.
                    * [61701] Browser crash with HTTP proxy authentication.
                    * [61653] Out-of-bounds read regression in WebM video support.
                    * [62127] Crash due to bad indexing with malformed video.
                    * [62168] Possible browser memory corruption via malicious privileged extension.
                    * [62401] Use after free with SVG animations.
                    * [63051] Use after free in mouse dragging event handling.
                    * [63444] Double free in XPath handling.
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="7">
            <Date>2010-10-29</Date>
            <Version>7.0.517.41</Version>
            <Comment>Mass rebuild for Pardus Corporate 2 Alpha 3</Comment>
            <Name>Ozan Çağlayan</Name>
            <Email>ozan@pardus.org.tr</Email>
        </Update>
        <Update release="6">
            <Date>2010-10-25</Date>
            <Version>7.0.517.41</Version>
            <Comment>
                -Bump to latest stable channel
                -An updated HTML5 parser
                -File API (ability of uploading a whole folder)
                -Several bug fixes (http://bit.ly/chrome7fixes)
                -Ffmpeg video support for HTML5 works now
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="5">
            <Date>2010-09-23</Date>
            <Version>6.0.472.63</Version>
            <Comment>
                Version bump
                Fix direct loading of global function prototypes in v8 engine
            </Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="4">
            <Date>2010-09-19</Date>
            <Version>6.0.472.62</Version>
            <Comment>Version bump</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="3">
            <Date>2010-09-15</Date>
            <Version>6.0.472.59</Version>
            <Comment>Version</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="2">
            <Date>2010-09-08</Date>
            <Version>6.0.472.56</Version>
            <Comment>Version bump, take over of package</Comment>
            <Name>Fatih Arslan</Name>
            <Email>farslan@pardus.org.tr</Email>
        </Update>
        <Update release="1">
            <Date>2010-06-01</Date>
            <Version>6.0.417.0</Version>
            <Comment>First release.</Comment>
            <Name>Mete Alpaslan</Name>
            <Email>mete@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
