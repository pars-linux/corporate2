Description: fix mod_dav_svn permissions bypass via incorrect resource URL
Origin: upstream, http://svn.apache.org/viewvc?view=revision&revision=1130303

diff -Nur subversion-1.6.12dfsg/subversion/mod_dav_svn/authz.c subversion-1.6.12dfsg.new/subversion/mod_dav_svn/authz.c
--- subversion-1.6.12dfsg/subversion/mod_dav_svn/authz.c	2011-06-02 13:14:38.884514137 -0400
+++ subversion-1.6.12dfsg.new/subversion/mod_dav_svn/authz.c	2011-06-02 13:14:43.584514136 -0400
@@ -51,6 +51,11 @@
       return TRUE;
     }
 
+  /* Sometimes we get paths that do not start with '/' and 
+     hence below uri concatenation would lead to wrong uris .*/
+  if (path && path[0] != '/')
+    path = apr_pstrcat(pool, "/", path, NULL);
+
   /* If bypass is specified and authz has exported the provider.
      Otherwise, we fall through to the full version.  This should be
      safer than allowing or disallowing all accesses if there is a
