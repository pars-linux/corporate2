From f0eadb981040ce0cee51312f6daf7328ca864d17 Mon Sep 17 00:00:00 2001
From: fatih <fatih@26e1f6f6-46e4-0310-a0b7-a8a415fd4c45>
Date: Mon, 1 Mar 2010 11:44:39 +0000
Subject: [PATCH] Thinko fix: Old and new file hashes might be different.

git-svn-id: https://svn.pardus.org.tr/uludag/trunk/pisi@27978 26e1f6f6-46e4-0310-a0b7-a8a415fd4c45
---
 pisi/atomicoperations.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/pisi/atomicoperations.py b/pisi/atomicoperations.py
index 2ee59da..fbb7a77 100644
--- a/pisi/atomicoperations.py
+++ b/pisi/atomicoperations.py
@@ -431,8 +431,7 @@ class Install(AtomicOperation):
                     # e.g. /lib/libdl.so and /lib64/libdl.so when /lib64 is
                     # a symlink to /lib.
 
-                    if new_file.hash != old_file.hash \
-                            or os.path.basename(new_file.path) != old_filename:
+                    if os.path.basename(new_file.path) != old_filename:
                         continue
 
                     new_file_path = os.path.join(ctx.config.dest_dir(), new_file.path)
-- 
1.6.5.6

