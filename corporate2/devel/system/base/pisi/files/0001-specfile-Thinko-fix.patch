From 1a59a7cb3a739af4eb3f6bf174508ae30144b073 Mon Sep 17 00:00:00 2001
From: fatih <fatih@26e1f6f6-46e4-0310-a0b7-a8a415fd4c45>
Date: Thu, 14 Oct 2010 09:54:51 +0000
Subject: [PATCH 1/9] specfile: Thinko fix

packageAnyDependencies is an array of AnyDependency objects, not
Dependency!

git-svn-id: https://svn.pardus.org.tr/uludag/trunk/pisi@32476 26e1f6f6-46e4-0310-a0b7-a8a415fd4c45
---
 pisi/specfile.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/pisi/specfile.py b/pisi/specfile.py
index 6ae015e..1a4d60c 100644
--- a/pisi/specfile.py
+++ b/pisi/specfile.py
@@ -393,7 +393,9 @@ class SpecFile(xmlfile.XmlFile):
         current_release = self.history[0].release
 
         for package in self.packages:
-            deps = package.packageDependencies + package.packageAnyDependencies
+            deps = package.packageDependencies[:]
+            deps += sum([x.dependencies for x
+                         in package.packageAnyDependencies], [])
             for dep in deps:
                 for attr_name, attr_value in dep.__dict__.items():
                     if attr_value != "current":
-- 
1.7.2.2

