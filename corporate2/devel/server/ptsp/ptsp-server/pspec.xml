<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>ptsp-server</Name>
        <Homepage>http://www.pardus.org.tr</Homepage>
        <Packager>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Packager>
        <License>GPLv2</License>
        <IsA>library</IsA>
        <Summary>PTSP: Pardus Terminal Server Project server</Summary>
        <Description>PTSP: Pardus Terminal Server Project server service and scripts are provided.</Description>
        <Archive sha1sum="5357ab96cf39f4069e34353f27f6486351e88f69" type="tarbz2">http://cekirdek.pardus.org.tr/~faik/archives/ptsp-client-rootfs-0.7.tar.bz2</Archive>
        <Patches>
          <Patch level="1">pulse-hal-dependency.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>ptsp-server</Name>
        <RuntimeDependencies>
            <Dependency>ltspfs</Dependency>
            <Dependency>perl-X11-Protocol</Dependency>
            <Dependency>dhcp</Dependency>
            <Dependency>tftp</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="data">/</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0755" target="/usr/sbin/lbus_event_handler.sh">lbussd/lbus_event_handler.sh</AdditionalFile>
            <AdditionalFile owner="root" permission="0755" target="/usr/sbin/lbussd">lbussd/lbussd</AdditionalFile>
            <AdditionalFile owner="root" permission="0755" target="/usr/bin/lbus-start">lbussd/lbus-start</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/etc/xdg/autostart/lbussd.desktop">lbussd/lbussd.desktop</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/tftpboot/pts/latest-ptsp/pxelinux.0">pxe/pxelinux.0</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/tftpboot/pts/latest-ptsp/pxelinux.cfg/default">pxe/default</AdditionalFile>
            <AdditionalFile owner="root" permission="0755" target="/usr/kde/4/env/pulse_setting.sh">pulse_setting.sh</AdditionalFile>
            <!-- because hal service runs before ptsp-client service and we cant run zorg -k tr before in it and also xorg=keymap:tr not working -->
            <AdditionalFile owner="root" permission="0644" target="/opt/ptsp/etc/hal/fdi/policy/10-keymap.fdi">10-keymap.fdi</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/opt/ptsp/etc/dbus-1/system.d/pulseaudio.conf">pulseaudio.conf</AdditionalFile>
        </AdditionalFiles>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
        </Provides>
    </Package>

    <History>
        <Update release="10">
            <Date>2009-10-05</Date>
            <Version>0.7</Version>
            <Comment>
              * Turkish keyboard layout fix
              * PTSP_SERVER env settings autostart should be in kde/4
              * Add pulseaudio.conf for pulse user to query hal
              * Move lbussd.desktop to xdg/autostart
              * Fix usb disk icon
            </Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="9">
            <Date>2009-10-02</Date>
            <Version>0.7</Version>
            <Comment>
              * Add hal service dependency to pulseaudio in ptsp_client service
              * chown of /var/cache/hald to hal:hal
            </Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="8">
            <Date>2009-09-03</Date>
            <Version>0.7</Version>
            <Comment>port to Pardus 2009</Comment>
            <Name>Metin Akdere</Name>
            <Email>metinakdere@gmail.com</Email>
        </Update>
        <Update release="7">
            <Date>2008-09-19</Date>
            <Version>0.6</Version>
            <Comment>Created pulse user for running system wide pulseaudio</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="6">
            <Date>2008-09-10</Date>
            <Version>0.5</Version>
            <Comment>Select pulse server when logged in fix</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="5">
            <Date>2008-09-08</Date>
            <Version>0.5</Version>
            <Comment>pulse audio support (Tolga Günkut), usb mount fix</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="4">
            <Date>2008-08-12</Date>
            <Version>0.4</Version>
            <Comment>Ported ptsp-server to Pardus 2008</Comment>
            <Name>Tolga Günkut</Name>
            <Email>tolga_gunkut@yahoo.com</Email>
        </Update>
        <Update release="3">
            <Date>2008-03-14</Date>
            <Version>0.3</Version>
            <Comment>Dependency change perl-X11-Protocol</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="2">
            <Date>2007-07-13</Date>
            <Version>0.3</Version>
            <Comment>Security fixes in system base</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
        <Update release="1">
            <Date>2007-05-29</Date>
            <Version>0.0.1</Version>
            <Comment>First release</Comment>
            <Name>Faik Uygur</Name>
            <Email>faik@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
