diff --git a/kernel/default/drivers/module-r5u870/files/0001-Fix-bug-when-compiling-on-2.6.29-or-greater-64bit-ke.patch b/kernel/default/drivers/module-r5u870/files/0001-Fix-bug-when-compiling-on-2.6.29-or-greater-64bit-ke.patch
new file mode 100644
index 0000000..d9f5252
--- /dev/null
+++ b/kernel/default/drivers/module-r5u870/files/0001-Fix-bug-when-compiling-on-2.6.29-or-greater-64bit-ke.patch
@@ -0,0 +1,12 @@
+diff -Naur r5u870_k2.6.27.org/usbcam/usbcam_fops.c r5u870_k2.6.27/usbcam/usbcam_fops.c
+--- r5u870_k2.6.27.org/usbcam/usbcam_fops.c	2009-12-30 10:01:49.000000000 +0000
++++ r5u870_k2.6.27/usbcam/usbcam_fops.c	2009-12-30 10:02:28.000000000 +0000
+@@ -1195,7 +1195,7 @@
+ 	.mmap		= usbcam_v4l_mmap,
+ 	/*.ioctl		= video_ioctl2,*/
+ 	.ioctl		= usbcam_v4l_ioctl,
+-#ifdef CONFIG_COMPAT
++#if defined(CONFIG_COMPAT) && LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 29)
+ 	.compat_ioctl	= v4l_compat_ioctl32,
+ #endif
+ };
diff --git a/kernel/default/drivers/module-r5u870/pspec.xml b/kernel/default/drivers/module-r5u870/pspec.xml
index f5dc252..cf53fa6 100644
--- a/kernel/default/drivers/module-r5u870/pspec.xml
+++ b/kernel/default/drivers/module-r5u870/pspec.xml
@@ -18,6 +18,7 @@
         </BuildDependencies>
         <Patches>
             <Patch level="1">kernel_2.6.30.patch</Patch>
+            <Patch level="1">0001-Fix-bug-when-compiling-on-2.6.29-or-greater-64bit-ke.patch</Patch>
         </Patches>
     </Source>
 
